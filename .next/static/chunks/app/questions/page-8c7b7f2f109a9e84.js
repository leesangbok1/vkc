(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[104],{2097:(e,t,s)=>{"use strict";s.d(t,{QuestionList:()=>S});var r=s(5155),a=s(2115),l=s(6808),i=s(5016),n=s(2467),o=s(3101);let c=(0,o.F)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline",primary:"bg-primary-blue text-white hover:bg-primary-dark transition-all duration-300 transform hover:-translate-y-0.5","primary-outline":"border-2 border-primary-blue text-primary-blue bg-transparent hover:bg-primary-blue hover:text-white transition-all duration-300","primary-green":"bg-primary-green text-white hover:bg-secondary-green transition-all duration-300 transform hover:-translate-y-0.5"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=a.forwardRef((e,t)=>{let{className:s,variant:a,size:l,asChild:o=!1,...d}=e,m=o?n.DX:"button";return(0,r.jsx)(m,{className:(0,i.cn)(c({variant:a,size:l,className:s})),ref:t,...d})});function m(e){let{onSearch:t,placeholder:s="검색어를 입력하세요...",defaultValue:l="",className:n,showFilters:o=!1,autoFocus:c=!1,debounceMs:m=300}=e,[u,x]=(0,a.useState)(l),[h,g]=(0,a.useState)(!1),[p,f]=(0,a.useState)([]),[v,b]=(0,a.useState)(-1),[j,y]=(0,a.useState)(!1),N=(0,a.useRef)(null),w=(0,a.useRef)([]),k=(0,a.useRef)(null);(0,a.useEffect)(()=>{c&&N.current&&N.current.focus()},[c]),(0,a.useEffect)(()=>(k.current&&clearTimeout(k.current),k.current=setTimeout(()=>{u.trim()!==l.trim()&&t(u.trim())},m),()=>{k.current&&clearTimeout(k.current)}),[u,t,m,l]),(0,a.useEffect)(()=>{let e=async()=>{if(u.length<2)return void f([]);y(!0);try{let e=[{id:"1",text:"비자 연장",type:"popular",icon:"\uD83D\uDD25"},{id:"2",text:"취업 비자",type:"tag",icon:"#"},{id:"3",text:"워킹홀리데이",type:"category",icon:"\uD83D\uDCC2"},{id:"4",text:"비자 신청",type:"recent",icon:"\uD83D\uDD52"}].filter(e=>e.text.toLowerCase().includes(u.toLowerCase()));f(e)}catch(e){f([])}finally{y(!1)}};h&&u.length>=2&&e()},[u,h]);let C=e=>{g(!1),e&&t(e)},L=e=>{x(e.text),C(e.text)};return(0,r.jsxs)("div",{className:(0,i.cn)("relative",n),children:[(0,r.jsxs)("form",{onSubmit:e=>{e.preventDefault(),C(u.trim())},className:"relative",children:[(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,r.jsx)("svg",{className:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),(0,r.jsx)("input",{ref:N,type:"text",value:u,onChange:e=>{let t=e.target.value;x(t),b(-1),t.trim()?g(!0):g(!1)},onKeyDown:e=>{if(h&&0!==p.length)switch(e.key){case"ArrowDown":e.preventDefault(),b(e=>e<p.length-1?e+1:0);break;case"ArrowUp":e.preventDefault(),b(e=>e>0?e-1:p.length-1);break;case"Enter":e.preventDefault(),v>=0?L(p[v]):C(u.trim());break;case"Escape":var t;g(!1),b(-1),null==(t=N.current)||t.blur()}},onFocus:()=>u.length>=2&&g(!0),onBlur:()=>setTimeout(()=>g(!1),200),placeholder:s,className:"block w-full pl-10 pr-20 py-3 border border-gray-300 rounded-lg text-sm placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent"}),u&&(0,r.jsx)("button",{type:"button",onClick:()=>{var e;x(""),g(!1),t(""),null==(e=N.current)||e.focus()},className:"absolute inset-y-0 right-12 flex items-center pr-3 text-gray-400 hover:text-gray-600",children:(0,r.jsx)("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),(0,r.jsx)("div",{className:"absolute inset-y-0 right-0 flex items-center",children:(0,r.jsx)(d,{type:"submit",size:"sm",className:"rounded-l-none h-full",disabled:j,children:j?(0,r.jsxs)("svg",{className:"animate-spin h-4 w-4",fill:"none",viewBox:"0 0 24 24",children:[(0,r.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,r.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):"검색"})})]}),h&&p.length>0&&(0,r.jsx)("div",{className:"absolute z-50 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-60 overflow-y-auto",children:p.map((e,t)=>(0,r.jsxs)("button",{ref:e=>{w.current[t]=e},type:"button",onClick:()=>L(e),className:(0,i.cn)("w-full px-4 py-3 text-left hover:bg-gray-50 flex items-center gap-3 border-b border-gray-100 last:border-b-0",v===t&&"bg-primary-100 text-primary-700"),children:[(0,r.jsx)("span",{className:"text-lg",children:e.icon||(e=>{switch(e){case"recent":return"\uD83D\uDD52";case"popular":return"\uD83D\uDD25";case"tag":return"#";case"category":return"\uD83D\uDCC2";default:return"\uD83D\uDD0D"}})(e.type)}),(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.text}),(0,r.jsx)("div",{className:"text-xs text-gray-500",children:(e=>{switch(e){case"recent":return"최근 검색";case"popular":return"인기 검색";case"tag":return"태그";case"category":return"카테고리";default:return""}})(e.type)})]}),(0,r.jsx)("svg",{className:"h-4 w-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 7l10 10M7 17L17 7",transform:"rotate(45)"})})]},e.id))})]}),o&&(0,r.jsxs)("div",{className:"mt-3 flex flex-wrap gap-2",children:[(0,r.jsx)(d,{variant:"outline",size:"sm",children:"필터 추가"}),(0,r.jsx)(d,{variant:"outline",size:"sm",children:"날짜 범위"}),(0,r.jsx)(d,{variant:"outline",size:"sm",children:"작성자"})]})]})}d.displayName="Button";var u=s(9726),x=s(7937),h=s(5917),g=s(9051);let p=u.bL,f=u.l9;u.YJ,u.ZL,u.Pb,u.z6,a.forwardRef((e,t)=>{let{className:s,inset:a,children:l,...n}=e;return(0,r.jsxs)(u.ZP,{ref:t,className:(0,i.cn)("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",a&&"pl-8",s),...n,children:[l,(0,r.jsx)(x.A,{className:"ml-auto h-4 w-4"})]})}).displayName=u.ZP.displayName,a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)(u.G5,{ref:t,className:(0,i.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",s),...a})}).displayName=u.G5.displayName;let v=a.forwardRef((e,t)=>{let{className:s,sideOffset:a=4,...l}=e;return(0,r.jsx)(u.ZL,{children:(0,r.jsx)(u.UC,{ref:t,sideOffset:a,className:(0,i.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",s),...l})})});v.displayName=u.UC.displayName;let b=a.forwardRef((e,t)=>{let{className:s,inset:a,...l}=e;return(0,r.jsx)(u.q7,{ref:t,className:(0,i.cn)("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a&&"pl-8",s),...l})});b.displayName=u.q7.displayName,a.forwardRef((e,t)=>{let{className:s,children:a,checked:l,...n}=e;return(0,r.jsxs)(u.H_,{ref:t,className:(0,i.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s),checked:l,...n,children:[(0,r.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,r.jsx)(u.VF,{children:(0,r.jsx)(h.A,{className:"h-4 w-4"})})}),a]})}).displayName=u.H_.displayName,a.forwardRef((e,t)=>{let{className:s,children:a,...l}=e;return(0,r.jsxs)(u.hN,{ref:t,className:(0,i.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s),...l,children:[(0,r.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,r.jsx)(u.VF,{children:(0,r.jsx)(g.A,{className:"h-2 w-2 fill-current"})})}),a]})}).displayName=u.hN.displayName,a.forwardRef((e,t)=>{let{className:s,inset:a,...l}=e;return(0,r.jsx)(u.JU,{ref:t,className:(0,i.cn)("px-2 py-1.5 text-sm font-semibold",a&&"pl-8",s),...l})}).displayName=u.JU.displayName,a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)(u.wv,{ref:t,className:(0,i.cn)("-mx-1 my-1 h-px bg-muted",s),...a})}).displayName=u.wv.displayName;var j=s(7812);function y(e){let{selectedCategory:t,onCategoryChange:s,className:l,compact:n=!1}=e,[o,c]=(0,a.useState)([]),[m,u]=(0,a.useState)(!0);(0,a.useEffect)(()=>{(async()=>{try{let e=await fetch("/api/categories");if(!e.ok)throw Error("Failed to fetch categories");let t=await e.json();c(t.data||[])}catch(e){}finally{u(!1)}})()},[]);let x=o.find(e=>e.slug===t),h=o.filter(e=>e.is_active).sort((e,t)=>e.sort_order-t.sort_order),g=h.filter(e=>!e.parent_id),y=h.filter(e=>e.parent_id),N=()=>g.map(e=>({...e,children:y.filter(t=>t.parent_id===e.id)}));return m?(0,r.jsx)("div",{className:(0,i.cn)("animate-pulse",l),children:(0,r.jsx)("div",{className:"h-10 bg-gray-200 rounded-md"})}):n?(0,r.jsx)("div",{className:l,children:(0,r.jsxs)(p,{children:[(0,r.jsx)(f,{asChild:!0,children:(0,r.jsxs)(d,{variant:"outline",className:"justify-between min-w-[200px]",children:[(0,r.jsx)("span",{className:"flex items-center gap-2",children:x?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:x.color}}),(0,r.jsx)("span",{children:x.name})]}):"카테고리 선택"}),(0,r.jsx)("svg",{className:"w-4 h-4 opacity-50",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]})}),(0,r.jsxs)(v,{className:"w-56",children:[(0,r.jsx)(b,{onClick:()=>s(""),className:(0,i.cn)(!t&&"bg-primary-100 text-primary-700"),children:"전체 카테고리"}),N().map(e=>(0,r.jsxs)("div",{children:[(0,r.jsxs)(b,{onClick:()=>s(e.slug),className:(0,i.cn)("flex items-center gap-2",t===e.slug&&"bg-primary-100 text-primary-700"),children:[(0,r.jsx)("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:e.color}}),(0,r.jsx)("span",{children:e.name})]}),e.children.map(e=>(0,r.jsxs)(b,{onClick:()=>s(e.slug),className:(0,i.cn)("flex items-center gap-2 pl-8",t===e.slug&&"bg-primary-100 text-primary-700"),children:[(0,r.jsx)("div",{className:"w-2 h-2 rounded-full",style:{backgroundColor:e.color}}),(0,r.jsx)("span",{children:e.name})]},e.id))]},e.id))]})]})}):(0,r.jsxs)("div",{className:(0,i.cn)("space-y-4",l),children:[x&&(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"선택된 카테고리:"}),(0,r.jsxs)(j.E,{variant:"secondary",className:"flex items-center gap-2 bg-primary-100 text-primary-700",children:[(0,r.jsx)("div",{className:"w-2 h-2 rounded-full",style:{backgroundColor:x.color}}),x.name,(0,r.jsx)("button",{onClick:()=>s(""),className:"ml-1 hover:bg-blue-200 rounded-full p-0.5",children:(0,r.jsx)("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]}),(0,r.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,r.jsx)("button",{onClick:()=>s(""),className:(0,i.cn)("px-3 py-2 rounded-full border text-sm font-medium transition-colors",t?"bg-white text-gray-700 border-gray-300 hover:bg-gray-50":"bg-primary-500 text-white border-primary-500"),children:"전체"}),N().map(e=>(0,r.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,r.jsxs)("button",{onClick:()=>s(e.slug),className:(0,i.cn)("px-3 py-2 rounded-full border text-sm font-medium transition-colors flex items-center gap-2",t===e.slug?"text-white border-transparent":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"),style:{backgroundColor:t===e.slug?e.color:void 0},children:[(0,r.jsx)("div",{className:(0,i.cn)("w-2 h-2 rounded-full",t===e.slug?"bg-white":""),style:{backgroundColor:t===e.slug?"white":e.color}}),e.name]}),e.children.map(e=>(0,r.jsxs)("button",{onClick:()=>s(e.slug),className:(0,i.cn)("px-3 py-2 rounded-full border text-sm font-medium transition-colors flex items-center gap-2",t===e.slug?"text-white border-transparent":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"),style:{backgroundColor:t===e.slug?e.color:void 0},children:[(0,r.jsx)("div",{className:(0,i.cn)("w-2 h-2 rounded-full",t===e.slug?"bg-white":""),style:{backgroundColor:t===e.slug?"white":e.color}}),e.name]},e.id))]},e.id))]}),o.length>0&&(0,r.jsxs)("div",{className:"text-xs text-gray-500",children:[o.filter(e=>e.is_active).length,"개 카테고리 •"," ","총 ",y.length,"개 하위 카테고리"]})]})}function N(e){let{currentPage:t,totalPages:s,onPageChange:a,hasNext:l,hasPrev:n,className:o,showPageNumbers:c=!0,maxPageNumbers:m=7,showFirstLast:u=!0,showTotal:x=!1,totalItems:h}=e,g=(()=>{if(s<=m)return Array.from({length:s},(e,t)=>t+1);let e=Math.max(1,t-Math.floor(m/2)),r=Math.min(s,e+m-1);r===s&&(e=Math.max(1,s-m+1));let a=[];for(let t=e;t<=r;t++)a.push(t);return a})(),p=g[0]>1,f=g[g.length-1]<s;return s<=1?null:(0,r.jsxs)("nav",{role:"navigation","aria-label":"페이지네이션",className:(0,i.cn)("flex items-center justify-center",o),children:[(0,r.jsxs)("div",{className:"flex items-center space-x-1",children:[x&&h&&(0,r.jsxs)("div",{className:"mr-4 text-sm text-gray-600",children:["총 ",h.toLocaleString(),"개"]}),u&&t>1&&(0,r.jsx)(d,{variant:"outline",size:"sm",onClick:()=>a(1),"aria-label":"첫 페이지로 이동",className:"px-2",children:(0,r.jsx)("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 19l-7-7 7-7M21 19l-7-7 7-7"})})}),(0,r.jsx)(d,{variant:"outline",size:"sm",onClick:()=>a(t-1),disabled:!n,"aria-label":"이전 페이지로 이동",className:"px-2",children:(0,r.jsx)("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),c&&(0,r.jsxs)(r.Fragment,{children:[p&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(d,{variant:"outline",size:"sm",onClick:()=>a(1),className:"px-3",children:"1"}),(0,r.jsx)("span",{className:"px-2 text-gray-500",children:"..."})]}),g.map(e=>(0,r.jsx)(d,{variant:e===t?"default":"outline",size:"sm",onClick:()=>a(e),"aria-label":"페이지 ".concat(e,"으로 이동"),"aria-current":e===t?"page":void 0,className:(0,i.cn)("px-3",e===t&&"bg-blue-600 text-white hover:bg-blue-700"),children:e},e)),f&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("span",{className:"px-2 text-gray-500",children:"..."}),(0,r.jsx)(d,{variant:"outline",size:"sm",onClick:()=>a(s),className:"px-3",children:s})]})]}),(0,r.jsx)(d,{variant:"outline",size:"sm",onClick:()=>a(t+1),disabled:!l,"aria-label":"다음 페이지로 이동",className:"px-2",children:(0,r.jsx)("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})}),u&&t<s&&(0,r.jsx)(d,{variant:"outline",size:"sm",onClick:()=>a(s),"aria-label":"마지막 페이지로 이동",className:"px-2",children:(0,r.jsx)("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 5l7 7-7 7M3 5l7 7-7 7"})})})]}),(0,r.jsxs)("div",{className:"ml-4 text-sm text-gray-600",children:[t," / ",s," 페이지"]})]})}function w(e){let{className:t,...s}=e;return(0,r.jsx)("div",{className:(0,i.cn)("animate-pulse rounded-md bg-muted",t),...s})}let k=(0,o.F)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),C=a.forwardRef((e,t)=>{let{className:s,variant:a,...l}=e;return(0,r.jsx)("div",{ref:t,role:"alert",className:(0,i.cn)(k({variant:a}),s),...l})});function L(e){let{position:t,target:s="all",variant:l="default",className:n,onClose:o}=e,[c,d]=(0,a.useState)(!0);if(!c)return null;let m=()=>{d(!1),null==o||o()},u=()=>{switch(t){case"header":return"w-full bg-gradient-to-r from-primary-500 to-success-500 text-white";case"sidebar":return"bg-white border border-gray-200 shadow-sm rounded-lg";case"content":return"bg-primary-50 border border-primary-200 rounded-lg";case"footer":return"w-full bg-gray-100 border-t border-gray-200";case"floating":return"fixed bottom-4 right-4 z-50 bg-white shadow-lg border border-gray-200 rounded-lg max-w-sm";default:return"bg-white border border-gray-200 rounded-lg"}},x=(()=>{switch(s){case"guests":return{title:"\uD83D\uDD10 신뢰할 수 있는 답변을 받아보세요",subtitle:"베트남인 한국생활 전문가들의 검증된 조언",features:["✅ 실명 인증된 전문가","\uD83D\uDCC4 비자타입별 맞춤 정보","\uD83C\uDFE0 거주년차별 경험 공유","\uD83C\uDFAF 체계적인 카테고리 분류"],cta:"지금 가입하고 질문하기",description:"익명 커뮤니티와 달리 실제 신원이 확인된 전문가들의 답변을 받아보세요."};case"unverified":return{title:"\uD83C\uDF93 인증받고 신뢰도를 높이세요",subtitle:"문서 인증으로 더 많은 기회를 얻으세요",features:["\uD83D\uDCCB 비자/졸업장 인증","⭐ 전문가 배지 획득","\uD83C\uDFAF 맞춤형 질문 매칭","\uD83D\uDCBC 네트워킹 기회 확대"],cta:"지금 인증하기",description:"인증된 회원만이 받을 수 있는 특별한 혜택과 신뢰를 쌓아보세요."};case"verified":return{title:"\uD83D\uDC51 전문가로 활동해보세요",subtitle:"경험을 나누고 커뮤니티에 기여하세요",features:["\uD83C\uDF1F 전문가 인증 신청","\uD83D\uDCA1 답변으로 점수 적립","\uD83C\uDFC6 베스트 답변자 혜택","\uD83E\uDD1D 직접 멘토링 기회"],cta:"전문가 신청하기",description:"여러분의 한국생활 경험이 누군가에게는 소중한 도움이 됩니다."};default:return{title:"\uD83C\uDDF0\uD83C\uDDF7 베트남인 한국생활 Q&A",subtitle:"신뢰할 수 있는 전문가들의 검증된 답변",features:["\uD83D\uDD10 실명 인증 시스템","\uD83C\uDFAF 전문분야별 매칭","\uD83D\uDCCA 체계적인 정보 분류","\uD83E\uDD1D 실제 경험 기반 조언"],cta:"지금 시작하기",description:"베트남인을 위한 가장 신뢰할 수 있는 한국생활 정보 플랫폼"}}})();return"compact"===l?(0,r.jsx)("div",{className:(0,i.cn)(u(),"p-3",n),children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("div",{className:"flex-shrink-0",children:(0,r.jsx)("div",{className:"w-8 h-8 bg-white bg-opacity-20 rounded-full flex items-center justify-content text-lg",children:"\uD83C\uDDF0\uD83C\uDDF7"})}),(0,r.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,r.jsx)("div",{className:"text-sm font-medium truncate",children:x.title}),(0,r.jsx)("div",{className:"text-xs opacity-90 truncate",children:x.subtitle})]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2 flex-shrink-0",children:[(0,r.jsx)("button",{className:"bg-white bg-opacity-20 hover:bg-opacity-30 text-white px-3 py-1 rounded text-sm font-medium transition-colors",children:"시작하기"}),o&&(0,r.jsx)("button",{onClick:m,className:"text-white hover:text-gray-200 transition-colors",children:"\xd7"})]})]})}):"minimal"===l?(0,r.jsx)("div",{className:(0,i.cn)(u(),"p-4",n),children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"text-lg font-semibold text-gray-900 mb-2",children:x.title}),(0,r.jsx)("div",{className:"text-sm text-gray-600 mb-3",children:x.description}),(0,r.jsx)("button",{className:"bg-primary-500 hover:bg-primary-600 text-white px-4 py-2 rounded-lg text-sm font-medium transition-colors",children:x.cta})]})}):"detailed"===l?(0,r.jsxs)("div",{className:(0,i.cn)(u(),"p-6",n),children:[o&&(0,r.jsx)("button",{onClick:m,className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600 transition-colors",children:"\xd7"}),(0,r.jsxs)("div",{className:"text-center mb-6",children:[(0,r.jsx)("div",{className:"w-16 h-16 mx-auto mb-4 bg-gradient-to-br from-primary-500 to-success-500 rounded-full flex items-center justify-center text-2xl text-white",children:"\uD83C\uDDF0\uD83C\uDDF7"}),(0,r.jsx)("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:x.title}),(0,r.jsx)("p",{className:"text-gray-600",children:x.subtitle})]}),(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:x.features.map((e,t)=>(0,r.jsxs)("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg",children:[(0,r.jsx)("div",{className:"flex-shrink-0 w-8 h-8 bg-primary-100 rounded-full flex items-center justify-center text-primary-600 font-medium",children:t+1}),(0,r.jsx)("div",{className:"text-sm text-gray-700",children:e})]},t))}),(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("button",{className:"bg-gradient-to-r from-primary-500 to-success-500 hover:from-primary-600 hover:to-success-600 text-white px-6 py-3 rounded-lg font-semibold shadow-md transition-all hover:shadow-lg",children:x.cta}),(0,r.jsx)("div",{className:"text-xs text-gray-500 mt-2",children:x.description})]})]}):(0,r.jsx)("div",{className:(0,i.cn)(u(),"p-4",n),children:(0,r.jsxs)("div",{className:"flex items-start gap-4",children:[(0,r.jsx)("div",{className:"flex-shrink-0",children:(0,r.jsx)("div",{className:"w-12 h-12 bg-gradient-to-br from-primary-500 to-success-500 rounded-full flex items-center justify-center text-lg text-white",children:"\uD83C\uDDF0\uD83C\uDDF7"})}),(0,r.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:x.title}),(0,r.jsx)("p",{className:"text-sm text-gray-600 mb-3",children:x.subtitle}),(0,r.jsx)("div",{className:"grid grid-cols-2 gap-2 mb-4",children:x.features.slice(0,4).map((e,t)=>(0,r.jsxs)("div",{className:"text-xs text-gray-600 flex items-center gap-1",children:[(0,r.jsx)("span",{className:"text-primary-500",children:"•"}),(0,r.jsx)("span",{children:e})]},t))}),(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("button",{className:"bg-primary-500 hover:bg-primary-600 text-white px-4 py-2 rounded-lg text-sm font-medium transition-colors",children:x.cta}),o&&(0,r.jsx)("button",{onClick:m,className:"text-gray-400 hover:text-gray-600 text-sm transition-colors",children:"나중에"})]})]})]})})}C.displayName="Alert",a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("h5",{ref:t,className:(0,i.cn)("mb-1 font-medium leading-none tracking-tight",s),...a})}).displayName="AlertTitle",a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,i.cn)("text-sm [&_p]:leading-relaxed",s),...a})}).displayName="AlertDescription";let z=()=>(0,r.jsx)(L,{position:"sidebar",target:"unverified",variant:"default"}),D=()=>(0,r.jsx)(L,{position:"content",target:"all",variant:"minimal"});function S(e){let{initialData:t,className:s}=e,[i,n]=(0,a.useState)((null==t?void 0:t.data)||[]),[o,c]=(0,a.useState)((null==t?void 0:t.pagination)||{page:1,limit:10,total:0,totalPages:0,hasNext:!1,hasPrev:!1}),[u,x]=(0,a.useState)(!t),[h,g]=(0,a.useState)(null),[p,f]=(0,a.useState)(""),[v,b]=(0,a.useState)(""),[j,k]=(0,a.useState)("created_at"),[L,S]=(0,a.useState)("desc"),M=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;try{x(!0),g(null);let t=new URLSearchParams({page:e.toString(),limit:o.limit.toString(),sort:j,order:L});p.trim()&&t.append("search",p.trim()),v&&t.append("category",v);let s=await fetch("/api/questions?".concat(t));if(!s.ok)throw Error("Failed to fetch questions");let r=await s.json();n(r.data),c(r.pagination)}catch(e){g(e instanceof Error?e.message:"An error occurred")}finally{x(!1)}};(0,a.useEffect)(()=>{t||M(1)},[p,v,j,L]);let F=()=>{M(o.page)};return h?(0,r.jsx)("div",{className:s,children:(0,r.jsxs)(C,{variant:"destructive",children:[(0,r.jsx)("h4",{className:"font-medium",children:"오류가 발생했습니다"}),(0,r.jsx)("p",{className:"text-sm",children:h}),(0,r.jsx)(d,{variant:"outline",size:"sm",onClick:F,className:"mt-2",children:"다시 시도"})]})}):(0,r.jsx)("div",{className:s,children:(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[(0,r.jsxs)("div",{className:"lg:col-span-3",children:[(0,r.jsxs)("div",{className:"space-y-4 mb-6",children:[(0,r.jsx)(m,{onSearch:e=>{f(e)},placeholder:"질문을 검색하세요...",defaultValue:p}),(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 items-start sm:items-center justify-between",children:[(0,r.jsx)(y,{selectedCategory:v,onCategoryChange:e=>{b(e)}}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsxs)("select",{value:j,onChange:e=>{k(e.target.value)},className:"px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-primary-500",children:[(0,r.jsx)("option",{value:"created_at",children:"최신순"}),(0,r.jsx)("option",{value:"popularity",children:"인기순"}),(0,r.jsx)("option",{value:"views",children:"조회순"}),(0,r.jsx)("option",{value:"answers",children:"답변순"})]}),(0,r.jsx)("button",{onClick:()=>S("asc"===L?"desc":"asc"),className:"px-3 py-2 border border-gray-300 rounded-md text-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-primary-500",title:"asc"===L?"오름차순":"내림차순",children:"asc"===L?"↑":"↓"})]})]})]}),!u&&(0,r.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,r.jsxs)("p",{className:"text-sm text-gray-600",children:["총 ",o.total.toLocaleString(),"개의 질문",p&&' \xb7 "'.concat(p,'" 검색 결과'),v&&" \xb7 ".concat(v," 카테고리")]}),(0,r.jsx)(d,{variant:"ghost",size:"sm",onClick:F,disabled:u,children:"새로고침"})]}),(0,r.jsx)("div",{className:"space-y-4",children:u?(0,r.jsx)(r.Fragment,{children:Array.from({length:o.limit}).map((e,t)=>(0,r.jsxs)("div",{className:"border rounded-lg p-6",children:[(0,r.jsx)(w,{className:"h-6 w-3/4 mb-3"}),(0,r.jsx)(w,{className:"h-4 w-full mb-2"}),(0,r.jsx)(w,{className:"h-4 w-2/3 mb-4"}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)(w,{className:"h-6 w-16"}),(0,r.jsx)(w,{className:"h-6 w-20"}),(0,r.jsx)(w,{className:"h-6 w-14"})]})]},t))}):i.length>0?(0,r.jsx)(r.Fragment,{children:i.map((e,t)=>(0,r.jsxs)("div",{children:[(0,r.jsx)(l.QuestionCard,{question:e}),(t+1)%5==0&&t<i.length-1&&(0,r.jsx)("div",{className:"my-4",children:(0,r.jsx)(D,{})})]},e.id))}):(0,r.jsxs)("div",{className:"text-center py-12",children:[(0,r.jsx)("div",{className:"text-gray-400 mb-4",children:(0,r.jsx)("svg",{className:"mx-auto h-12 w-12",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,r.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:p||v?"검색 결과가 없습니다":"아직 등록된 질문이 없습니다"}),(0,r.jsx)("p",{className:"text-gray-500 mb-6",children:p||v?"다른 검색어나 카테고리로 시도해보세요.":"첫 번째 질문을 등록해보세요!"}),!p&&!v&&(0,r.jsx)(d,{children:"질문 등록하기"})]})}),o.totalPages>1&&(0,r.jsx)("div",{className:"mt-8",children:(0,r.jsx)(N,{currentPage:o.page,totalPages:o.totalPages,onPageChange:e=>{M(e)},hasNext:o.hasNext,hasPrev:o.hasPrev})})]}),(0,r.jsx)("div",{className:"lg:col-span-1",children:(0,r.jsx)("div",{className:"sticky top-20 space-y-6",children:(0,r.jsx)(z,{})})})]})})}},4147:(e,t,s)=>{Promise.resolve().then(s.bind(s,2097)),Promise.resolve().then(s.t.bind(s,2619,23))}},e=>{e.O(0,[96,808,358],()=>e(e.s=4147)),_N_E=e.O()}]);